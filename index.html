<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zahlenraten Spiel</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #2C3E50;
            color: #ECF0F1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .container {
            text-align: center;
        }
        .input-field, .btn {
            padding: 10px;
            font-size: 1em;
            border: none;
            border-radius: 5px;
            margin: 5px;
        }
        .btn {
            background-color: #27AE60;
            color: white;
            cursor: pointer;
        }
        .btn:hover {
            background-color: #2ECC71;
        }
        .dice-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        .dice {
            width: 100px;
            height: 100px;
        }
        .gameover {
            display: none;
        }
        .gameover.active {
            display: block;
        }
    </style>
</head>
<body>
    <h1>Zahlenraten Spiel</h1>
    <div class="container">
        <div id="game">
            <div class="dice-container">
                <img id="dice1" class="dice" src="https://i.imgur.com/1oMBEal.jpeg" alt="Würfel 1">
                <img id="dice2" class="dice" src="https://i.imgur.com/xsjQP6c.jpeg" alt="Würfel 2">
            </div>
            <div>
                <input type="number" id="guess" class="input-field" placeholder="Errate die Zahl" min="2" max="12">
                <button class="btn" onclick="checkGuess()">Roll</button>
            </div>
            <p id="feedback"></p>
            <p>Punkte: <span id="score">0</span></p>
        </div>
        <div id="code-input">
            <input type="text" id="secret-code" class="input-field" placeholder="Geheimer Code">
            <button class="btn" onclick="useSecretCode()">Code verwenden</button>
            <p id="code-feedback"></p>
        </div>
        <div id="gameover" class="gameover">
            <h2>Game Over!</h2>
            <p id="final-score"></p>
            <p id="rating"></p>
            <button class="btn" onclick="restartGame()">Try Again</button>
        </div>
    </div>

    <script>
        let score = 0;
        let round = 0;
        let gameOver = false;
        let godMode = false;
        let allowlist = false;
        let showAlways = false;
        let secretUsed = {
            "AboFluesterer": false,
            "G O D": false,
            "showall": false
        };

        const diceImages = [
            "1oMBEal.jpeg", // Bild für 1
            "xsjQP6c.jpeg", // Bild für 2
            "nTrQHd2.jpeg", // Bild für 3
            "Yfn2T1x.jpeg", // Bild für 4
            "nsqaual.jpeg", // Bild für 5
            "Yfn2T1x.jpeg"  // Bild für 6 (kann angepasst werden)
        ];

        function rollDice() {
            const dice1 = Math.floor(Math.random() * 6) + 1;
            const dice2 = Math.floor(Math.random() * 6) + 1;
            const sum = dice1 + dice2;
            document.getElementById("dice1").src = `https://i.imgur.com/${diceImages[dice1 - 1]}`;
            document.getElementById("dice2").src = `https://i.imgur.com/${diceImages[dice2 - 1]}`;
            return sum;
        }

        function checkGuess() {
            if (gameOver) return;
            const guess = parseInt(document.getElementById("guess").value);
            const sum = rollDice();

            if (guess === sum || godMode || showAlways) {
                score += 10;
                round++;
                document.getElementById("feedback").textContent = "Richtig geraten!";
            } else {
                document.getElementById("feedback").textContent = "Falsch geraten! Game Over!";
                endGame();
                return;
            }
            document.getElementById("score").textContent = score;
        }

        function endGame() {
            gameOver = true;
            document.getElementById("game").style.display = "none";
            document.getElementById("code-input").style.display = "none";
            document.getElementById("gameover").classList.add("active");
            document.getElementById("final-score").textContent = `Punkte: ${score}`;
            document.getElementById("rating").textContent = `Bewertung: ${getRating()}`;
        }

        function getRating() {
            if (round >= 5) return "A+";
            if (round >= 4) return "A";
            if (round >= 3) return "B";
            if (round >= 2) return "C";
            if (round >= 1) return "D";
            return "F-";
        }

        function restartGame() {
            score = 0;
            round = 0;
            gameOver = false;
            godMode = false;
            showAlways = false;
            document.getElementById("game").style.display = "block";
            document.getElementById("code-input").style.display = "block";
            document.getElementById("gameover").classList.remove("active");
            document.getElementById("feedback").textContent = "";
            document.getElementById("score").textContent = score;
        }

        function useSecretCode() {
            const code = document.getElementById("secret-code").value.trim();

            if (code === "allowlistaddFluesterer") {
                allowlist = true;
                document.getElementById("code-feedback").textContent = "Du bist jetzt auf der Allowlist!";
                return;
            }

            if (code === "showall" && allowlist) {
                showAlways = true;
                document.getElementById("code-feedback").textContent = "Geheimer Modus aktiviert: Zahlen werden immer angezeigt.";
                return;
            }

            if (code === "AboFluesterer" && !secretUsed["AboFluesterer"]) {
                secretUsed["AboFluesterer"] = true;
                document.getElementById("code-feedback").textContent = "Die nächste Zahl ist garantiert richtig!";
                godMode = true;
                return;
            }

            if (code === "G O D" && !secretUsed["G O D"]) {
                secretUsed["G O D"] = true;
                document.getElementById("code-feedback").textContent = "Godmode aktiviert!";
                godMode = true;
                return;
            }

            document.getElementById("code-feedback").textContent = "Dieser Code existiert nicht oder wurde bereits verwendet!";
        }
    </script>
</body>
</html>
